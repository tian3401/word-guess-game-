<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Hangman Game</title>
</head>
<body>

<!---Bootstrap grid for the body-->
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12 heightIncrease"></div>

    </div>

    <div class="row">
        <div class="col-lg-2 sideCol"></div>

        <div class="col-lg-4 mainCol">
        <p>Press Any Key to Get Started</p>

        <div>Number of Wins <span id=numberOfWins></span></div> 
        
        <div>Number of Remaining Guesses <span id=guessesRemaining></span></div>

        <div>Letters Already Guessed <span id=lettersGuessed></span></div>

        </div>

        <div class="col-lg-4 mainCol">Current Word

        <div id=secretWord></div>
        <div id=revealedWord></div></div>

        <div class="col-lg-2 sideCol"></div>

    </div>

   
    <div class="row">
        <div class="col-lg-12 heightIncrease">

    </div>

<script>


//Variables================================================================================ 
    var winsCounter= 0;
    var guessesNumber= 15;
    var computerWordBank= ["Cranberries", "John Legend","CnBlue","Shipwreck And Zookeepers","A o A"];
    var computerRandomNumber= Math.floor(Math.random()*(computerWordBank.length));
    var computerGeneratedWord= computerWordBank[computerRandomNumber];
    var computerGeneratedWordLowerCase= computerGeneratedWord.toLowerCase();
    var userWrongLetters= [];
    var blanks=[];
    var k;

//Functions===============================================================================
    document.querySelector("#revealedWord").innerText= computerGeneratedWord; 
    document.querySelector("#numberOfWins").innerText= winsCounter;
    document.querySelector("#guessesRemaining").innerText= guessesNumber;
   
    function startGame(){
        //starts the game by putting blanks for each letter of the computer generated word 
        for(i=0;i<computerGeneratedWord.length;i++){
            blanks.push('_ ');
        //the .join gets rid of the commas in the array by joining the indices    
            document.querySelector("#secretWord").innerText= blanks.join(" ");
        }
    }

    function winsCalculator(){
        winsCounter++
        document.querySelector("#numberOfWins").innerText = winsCounter;
    }

    //The function runs based on what keys the user presses
    function userAction(){
        k=event.key; 

        if(computerGeneratedWordLowerCase.indexOf(k)===-1){
            if(userWrongLetters.indexOf(k)===-1){
            //Guess section
            guessesNumber = guessesNumber-1;
            if(guessesNumber<0){
            document.querySelector("#guessesRemaining").innerText=0;
            }
            else{
            document.querySelector("#guessesRemaining").innerText= guessesNumber;
            }
            //Updates wrong selections and puts in the wrongLetters array
            userWrongLetters.push(k);
            document.querySelector("#lettersGuessed").innerText= userWrongLetters;
            }
            else{}
        }
        //Contain the for loop to replace the letters of the blanks
        else{
            for(j=0;j<computerGeneratedWordLowerCase.length;j++){
                if(computerGeneratedWordLowerCase[j]===k){
                    blanks[j]=k;
                    document.querySelector("#secretWord").innerText= blanks.join(" ");
                }
            }
        }
    }

    window.onload= startGame;
    document.onkeyup= userAction;
    document.onkeydown= lettersGuessed;

  


</script>

</div>

</body>
</html>